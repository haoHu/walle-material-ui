!function(a,b){"use strict";function c(a){a=a.split(" ");for(var b={},c=a.length,d=[];c--;)b.hasOwnProperty(a[c])||(b[a[c]]=1,d.unshift(a[c]));return d.join(" ")}var d="file:"===a.location.protocol,e=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),f=Array.prototype.forEach||function(a,b){if(void 0===this||null===this||"function"!=typeof a)throw new TypeError;var c,d=this.length>>>0;for(c=0;d>c;++c)c in this&&a.call(b,this[c],c,this)},g={},h=0,i=[],j=[],k={},l=function(a){return a.cloneNode(!0)},m=function(a,b){j[a]=j[a]||[],j[a].push(b)},n=function(a){for(var b=0,c=j[a].length;c>b;b++)!function(b){setTimeout(function(){j[a][b](l(g[a]))},0)}(b)},o=function(b,c){if(void 0!==g[b])g[b]instanceof SVGSVGElement?c(l(g[b])):m(b,c);else{if(!a.XMLHttpRequest)return c("Browser does not support XMLHttpRequest"),!1;g[b]={},m(b,c);var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState){if(404===e.status||null===e.responseXML)return c("Unable to load SVG file: "+b),d&&c("Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver."),c(),!1;if(!(200===e.status||d&&0===e.status))return c("There was a problem injecting the SVG: "+e.status+" "+e.statusText),!1;if(e.responseXML instanceof Document)g[b]=e.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var a;try{var f=new DOMParser;a=f.parseFromString(e.responseText,"text/xml")}catch(h){a=void 0}if(!a||a.getElementsByTagName("parsererror").length)return c("Unable to parse SVG file: "+b),!1;g[b]=a.documentElement}n(b)}},e.open("GET",b),e.overrideMimeType&&e.overrideMimeType("text/xml"),e.send()}},p=function(b,d,g,j){var l,m,n;if(l=b.getAttribute("data-src")||b.getAttribute("src"),-1!==l.indexOf("#")?(m=l.split("#")[0],n=l.split("#")[1]):m=l,!/\.svg/i.test(m))return void j("Attempted to inject a file with a non-svg extension: "+m);if(!e){var p=b.getAttribute("data-fallback")||b.getAttribute("data-png");return void(p?(b.setAttribute("src",p),j(null)):g?(b.setAttribute("src",g+"/"+m.split("/").pop().replace(".svg",".png")),j(null)):j("This browser does not support SVG and no PNG fallback was defined."))}-1===i.indexOf(b)&&(i.push(b),b.setAttribute("src",""),o(m,function(e){if("undefined"==typeof e||"string"==typeof e)return j(e),!1;var g=b.getAttribute("id");g&&e.setAttribute("id",g);var l=b.getAttribute("title");l&&e.setAttribute("title",l);var n=[].concat(e.getAttribute("class")||[],"injected-svg",b.getAttribute("class")||[]).join(" ");e.setAttribute("class",c(n));var o=b.getAttribute("style");o&&e.setAttribute("style",o);var p=[].filter.call(b.attributes,function(a){return/^data-\w[\w\-]*$/.test(a.name)});f.call(p,function(a){a.name&&a.value&&e.setAttribute(a.name,a.value)});var q,r,s,t,u,v={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(v).forEach(function(a){q=a,s=v[a],r=e.querySelectorAll("defs "+q+"[id]");for(var b=0,c=r.length;c>b;b++){t=r[b].id,u=t+"-"+h;var d;f.call(s,function(a){d=e.querySelectorAll("["+a+'*="'+t+'"]');for(var b=0,c=d.length;c>b;b++)d[b].setAttribute(a,"url(#"+u+")")}),r[b].id=u}}),e.removeAttribute("xmlns:a");for(var w,x,y=e.querySelectorAll("script"),z=[],A=0,B=y.length;B>A;A++)x=y[A].getAttribute("type"),x&&"application/ecmascript"!==x&&"application/javascript"!==x||(w=y[A].innerText||y[A].textContent,z.push(w),e.removeChild(y[A]));if(z.length>0&&("always"===d||"once"===d&&!k[m])){for(var C=0,D=z.length;D>C;C++)new Function(z[C])(a);k[m]=!0}var E=e.querySelectorAll("style");f.call(E,function(a){a.textContent+=""}),b.parentNode.replaceChild(e,b),delete i[i.indexOf(b)],b=null,h++,j(e)}))},q=function(a,b,c){b=b||{};var d=b.evalScripts||"always",e=b.pngFallback||!1,g=b.each;if(void 0!==a.length){var h=0;f.call(a,function(b){p(b,d,e,function(b){g&&"function"==typeof g&&g(b),c&&a.length===++h&&c(h)})})}else a?p(a,d,e,function(b){g&&"function"==typeof g&&g(b),c&&c(1),a=null}):c&&c(0)};q.prototype.walleLoadSvg=function(){var a,c,d,e=[].slice.call(arguments);if(d=function(a,c){var d,e,f="http://www.w3.org/2000/svg";d=b.getElementById(a),e=b.createElementNS(f,"use"),e.href.baseVal="#"+c,d.appendChild(e)},1===e.length&&"[object Object]"==={}.toString.call(e[0]))for(var f in e[0])a=f,c=e[0][f],d(a,c);else e.length>=2?(a=e[0],c=e[1],d(a,c)):console.log("id and svgName must be required!")},"function"==typeof define&&define.amd?define(function(){return q}):"object"==typeof module&&"object"==typeof module.exports?module.exports=exports=q:"object"==typeof a&&(a.SVGInjector=q)}(window,document);